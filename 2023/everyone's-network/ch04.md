# 4장 데이터 링크 계층 : 랜에서 데이터 전송하기

- 키워드
    - 데이터링크 계층, 이더넷, 스위치, MAC주소
- 질문 만들기
    - 데이터 링크 계층에 대해서 설명해주세요.
    - 이더넷이란?
    - MAC 주소에 대해서 설명해주세요.
    - 이더넷 헤더에 대해서 설명해주세요.
    - 데이터 링크 계층에서 어떤 헤더를 붙이나요?
    - 스위치에 대해서 설명해주세요.
    - 데이터 통신 방식에 대해서 설명해주세요.
  
- 질문 답안
    - 데이터 링크 계층에 대해서 설명해주세요.
        - **네트워크 장비 간 신호를 주고받는 규칙**을 정하는 계층
        - 랜에서 데이터를 정상적으로 주고받기 위해 필요한 계층이다.
        - 가장 많이 사용되는 규칙은 **이더넷**이다.
        - **MAC주소**를 사용한 통신
        - **이더넷헤더와 트레일러를 추가하여 프레임을 만들고**, 물리 계층에서 이 프레임 비트열을 전기신호로 변환하여 네트워크를 통해 전송한다.
    - 이더넷이란?
        - 랜에서 적용되는 규칙
        - 여러 컴퓨터가 동시에 데이터를 전송해도 충돌이 일어나지 않는 구조
            - 충돌: 컴퓨터 여러 대가 동시에 데이터를 보내면 데이터들이 서로 부딪힐 수도 있다.
            - 충돌을 방지하기 위해 시점을 늦추는데 CSMA/CD 방법이다.
                - 데이터 송신 전에 케이블이 사용되고 있으면 대기한다.
                - 효율이 좋지 않아 지금은 사용하지 않고, 스위치를 사용함
    - MAC 주소에 대해서 설명해주세요.
        - 물리 주소
        - 전세계 고유한 번호
        - 통신 기기 식별 용도
        - 48비트
    - 이더넷 헤더에 대해서 설명해주세요.
        - 데이터 링크 계층에서 이더넷 헤더와 트레일러를 붙인다.
        - 이더넷 헤더(총 14바이트) = 출발지 mac 주소(6바이트) + 도착지 mac 주소(6바이트) + type(2바이트)
            - 데이터를 전송할 떄, 목적지 MAC 주소와 자신의 MAC 주소가 다르면 데이터를 파기한다.
            - type
                - 프로토콜 종류를 식별하는 번호
    - 데이터 링크 계층에서 어떤 헤더를 붙이나요?
        - 이더넷 헤더 + 트레일러
        - 이더넷헤더와 트레일러가 추가된 데이터를 프레임이라고 한다.
    - 스위치에 대해서 설명해주세요.
        - 데이터 링크 계층에서 동작한다.
        - 스위치에는 mac 주소 테이블이 있다.
            - 스위치의 포트 번호와 해당 포트에 연결되어 있는 컴퓨터의 mac 주소가 등록되는 데이터베이스
        - 주소 등록 전에는 floading 홍수 현상이 발생한다. 도착지를 모르기 때문에 모든 포트에 데이터를 전송한다.
        - 주소 등록 후 도착지 주소를 식별하고 도착지로만 데이터를 전송할 수 있게 된다.
            - 이를 mac 주소 필터링이라고 한다.
                - mac 주소를 기준으로 목적지를 선택하는 것
    - 데이터 통신 방식에 대해서 설명해주세요.
        - 종류
            - 반이중 통신
                - 회선 하나로 **송신과 수신을 번갈아가면서** 통신하는 방식
                - 허브를 사용하면 반이중 통신방식을 사용하게 된다
                - 동시에 데이터를 전송하면 충돌 발생
                    - 충돌났을 때 영향을 미치는 범위가 **충돌 도메인**이라고 한다.
                        - 허브는 연결되어 있는 컴퓨터 전체가 하나의 충돌 도메인이 된다.
                        - **네트워크를 지연시키지 않기 위해서라도 충돌 도메인의 범위를 좁히는 게 중요하다.**
            - 전이중 통신
                - 데이터의 송수신을 동시에 통신하는 방식
                - 컴퓨터 간 직접 랜 케이블로 연결하는 방식
                - 스위치를 사용하면 전이중 통신방식을 사용하게 된다.
                    - 허브말고, 스위치가 표준이다.